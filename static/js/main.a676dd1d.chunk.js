(this["webpackJsonpcbrf-test"]=this["webpackJsonpcbrf-test"]||[]).push([[0],{19:function(e,t,n){e.exports=n(42)},24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(10),r=n.n(c),l=(n(24),n(1)),s=n(2),o=n(3),d=n(4),u=n(7),m=n(5),h=n(8),b=n(6),p=n(11),v=n.n(p),O=(n(27),Object(b.block)("menu")),k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleAddButtonClick=function(){var e=n.props;(0,e.onItemControlsClick)(e.id,"add")},n.handleDeleteButtonClick=function(){var e=n.props;(0,e.onItemControlsClick)(e.id,"delete")},n.handleEditButtonClick=function(){var e=n.props;(0,e.onItemControlsClick)(e.id,"edit")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.itemsVisibilityMask;return i.a.createElement("div",{className:O()},i.a.createElement("button",{className:O("item",{invisible:!e.add,color:"green"}),onClick:this.handleAddButtonClick},"add"),i.a.createElement("button",{className:O("item",{invisible:!e.delete,color:"red"}),onClick:this.handleDeleteButtonClick},"delete"),i.a.createElement("button",{className:O("item",{invisible:!e.edit,color:"yellow"}),onClick:this.handleEditButtonClick},"edit"))}}]),t}(i.a.PureComponent),f=(n(28),Object(b.block)("tree-item")),C=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.item,a=e.onItemControlsClick,c=n.name?n.name:"unknown";return i.a.createElement("div",{className:f()},i.a.createElement("div",{className:f("header")},i.a.createElement("div",{className:f("header-left-side")},c),i.a.createElement("div",{className:f("header-right-side")},i.a.createElement(k,{itemsVisibilityMask:{add:!0,delete:!0,edit:!0},onItemControlsClick:a,id:n.id}))),n.childrens&&n.childrens.map((function(e,n){return i.a.createElement("div",{className:f("content"),key:n},i.a.createElement(t,{item:e,onItemControlsClick:a}))})))}}]),t}(i.a.Component),j=(n(29),Object(b.block)("tree")),y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initialData,n=t.childrens,a=t.id,c=t.name,r=e.onItemControlsClick,l=c||"unknown";return i.a.createElement("div",{className:j()},i.a.createElement("div",{className:j("header")},i.a.createElement("div",{className:j("header-left-side")},l),i.a.createElement("div",{className:j("header-right-side")},i.a.createElement(k,{itemsVisibilityMask:{add:!0,delete:!1,edit:!0},onItemControlsClick:r,id:a}))),n.map((function(e,t){return i.a.createElement("div",{className:j("content"),key:t},i.a.createElement(C,{item:e,onItemControlsClick:r}))})))}}]),t}(i.a.Component),I=n(18),E=n.n(I),N={overlay:{backgroundColor:"rgba(0,0,0,0.7)"},content:{position:"relative",padding:"1rem",width:"35rem",border:"1px solid #707070",borderRadius:"5px",backgroundColor:"#fff",overflow:"hidden",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},B={id:0,name:"\u041c\u043e\u0439 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440",childrens:[{id:1,name:"disc C:",childrens:[{id:11,name:"\u0444\u043e\u0442\u043e\u0447\u043a\u0438",childrens:[]},{id:12,name:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u043a\u0438",childrens:[]},{id:13,name:"\u043f\u0440\u043e\u0447\u0435\u0435",childrens:[]}]},{id:2,name:"disc D:",childrens:[{id:21,name:"Distributives",childrens:[]},{id:22,name:"Program Files",childrens:[{id:221,name:"Adobe",childrens:[{id:2211,name:"adobe.exe",childrens:[]},{id:2212,name:"adobe_x64.exe",childrens:[]}]},{id:222,name:"system.ini",childrens:[]},{id:223,name:"swapfile.sys",childrens:[]}]}]},{id:3,name:"disc E:",childrens:[{id:31,name:"pagefile.sys",childrens:[]},{id:32,name:"system.ini",childrens:[]},{id:33,name:"swapfile.sys",childrens:[]}]}]},g=(n(40),Object(b.block)("modal")),w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isOpen,a=e.onInputChange,c=e.onModalOKButtonClick,r=e.onModalCloseButtonClick;return i.a.createElement(E.a,{ariaHideApp:!1,isOpen:n,onRequestClose:r,style:N},i.a.createElement("div",{className:g()},i.a.createElement("div",{className:g("text")},t),i.a.createElement("div",{className:g("content")},i.a.createElement("input",{className:g("input"),type:"text",onChange:a,autoFocus:!0}),i.a.createElement("button",{className:g("button"),onClick:c},"OK"),i.a.createElement("button",{className:g("button"),onClick:r},"close"))))}}]),t}(i.a.Component),M=(n(41),Object(b.block)("application")),x=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={tree:B,isModalOpen:!1,currentID:null,currentInputValue:"",currentAct:""},n.handleItemControlsClick=function(e,t){switch(t){case"add":n.showModal(e,"add");break;case"delete":n.deleteItem(e);break;case"edit":n.showModal(e,"edit")}},n.handleInputChange=function(e){n.setState({currentInputValue:e.target.value})},n.handleOKButtonClick=function(){var e=n.state,t=e.currentID,a=e.currentInputValue,i=e.currentAct;null!==t&&a&&i&&("add"===i?n.addItem(t,a):"edit"===i&&n.editItem(t,a),n.setState({isModalOpen:!1,currentID:null,currentInputValue:"",currentAct:""}))},n.handleCloseButtonClick=function(){n.setState({isModalOpen:!1,currentID:null,currentInputValue:"",currentAct:""})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.isModalOpen;return i.a.createElement("div",{className:M()},i.a.createElement("header",{className:M("header")},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0438\u0437 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430, \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0437\u043b\u0430\u043c\u0438 \u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 json"),i.a.createElement("div",{className:M("content")},i.a.createElement("div",{className:M("tree")},i.a.createElement(y,{initialData:this.state.tree,onItemControlsClick:this.handleItemControlsClick})),i.a.createElement("div",{className:M("output-area")},i.a.createElement("textarea",{className:M("textarea"),readOnly:!0,value:JSON.stringify(this.state.tree)}))),i.a.createElement(w,{text:"Enter new item name: ",isOpen:e,onInputChange:this.handleInputChange,onModalOKButtonClick:this.handleOKButtonClick,onModalCloseButtonClick:this.handleCloseButtonClick}))}},{key:"showModal",value:function(e,t){this.setState({isModalOpen:!0,currentID:e,currentAct:t})}},{key:"addItem",value:function(e,t){var n=this.state.tree;if(e===n.id)this.setState({tree:Object(s.a)({},n,{childrens:[].concat(Object(l.a)(n.childrens),[{id:v()(),name:t,childrens:[]}])})});else{var a=this.addItemByRecursion(e,t,n.childrens);this.setState({tree:Object(s.a)({},n,{childrens:a})})}}},{key:"addItemByRecursion",value:function(e,t,n){var a=this;return n.reduce((function(n,i){return i.id===e?[].concat(Object(l.a)(n),[Object(s.a)({},i,{childrens:[].concat(Object(l.a)(i.childrens),[{id:v()(),name:t,childrens:[]}])})]):i.id===e||i.childrens?i.id!==e&&i.childrens?[].concat(Object(l.a)(n),[Object(s.a)({},i,{childrens:a.addItemByRecursion(e,t,i.childrens)})]):n:[].concat(Object(l.a)(n),[i])}),[])}},{key:"deleteItem",value:function(e){var t=this.state.tree,n=this.deleteItemByRecursion(e,t.childrens);this.setState({tree:Object(s.a)({},t,{childrens:n})})}},{key:"deleteItemByRecursion",value:function(e,t){var n=this;return t.reduce((function(t,a){return a.id===e?t:a.id===e||a.childrens?a.id!==e&&a.childrens?[].concat(Object(l.a)(t),[Object(s.a)({},a,{childrens:n.deleteItemByRecursion(e,a.childrens)})]):t:[].concat(Object(l.a)(t),[a])}),[])}},{key:"editItem",value:function(e,t){var n=this.state.tree;if(e===n.id)this.setState({tree:Object(s.a)({},n,{name:t})});else{var a=this.editItemByRecursion(e,t,n.childrens);this.setState({tree:Object(s.a)({},n,{childrens:a})})}}},{key:"editItemByRecursion",value:function(e,t,n){var a=this;return n.reduce((function(n,i){return i.id===e?[].concat(Object(l.a)(n),[Object(s.a)({},i,{name:t})]):i.id===e||i.childrens?i.id!==e&&i.childrens?[].concat(Object(l.a)(n),[Object(s.a)({},i,{childrens:a.editItemByRecursion(e,t,i.childrens)})]):n:[].concat(Object(l.a)(n),[i])}),[])}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a676dd1d.chunk.js.map